% colors for boxes
\definecolor{color_guideline}{RGB}{0, 92, 171}
\definecolor{color_guideline_background}{rgb}{0.588, 0.784, 0.902}
\definecolor{color_example_frame}{rgb}{0.65,0.65,0.65}
\definecolor{color_highlight}{RGB}{255, 195, 37}
% \definecolor{color_example_good}{rgb}{0.4706,0.7725,0.4980}
% \definecolor{color_example_bad}{rgb}{0.9059,0.7373,0.7373}

\definecolor{color_example_good}{HTML}{228B22}
\definecolor{color_example_bad}{HTML}{B22222}

% guidelines
\newcounter{guidelinecounter}
\newcommand{\guideline}[3][defaultguidelinelabel]{%
\refstepcounter{guidelinecounter}
\label{#1}
\begin{tcolorbox}[
    title=Guideline \theguidelinecounter.,
    colback=color_guideline_background, colframe=color_guideline,
    sharp corners=northwest,bottomrule=0mm,rightrule=0mm,leftrule=0mm,
    left=2mm,right=2mm]
    #2
\end{tcolorbox}%
\addcontentsline{toc}{section}{Guideline \theguidelinecounter. #2}
}

% text example for comparison good/bad (two columns)
\newcommand{\goodbadexample}[3][]{%
\ifx\relax#1\relax
\begin{tcbraster}[raster row skip=3pt,raster columns=1]
\begin{tcolorbox}[enhanced,breakable,frame hidden,interior hidden,colback=white,
    borderline west={0.75mm}{0.25mm}{color_example_bad},
    top=0mm,bottom=0mm,right=0mm,left=2.5mm]
    #2
\end{tcolorbox}
\begin{tcolorbox}[enhanced,frame hidden,interior hidden,colback=white,
    borderline west={0.75mm}{0.25mm}{color_guideline},
    top=0mm,bottom=0mm,right=0mm,left=2.5mm]
    #3
\end{tcolorbox}%
\end{tcbraster}%
\else
{\hfill \scriptsize{#1}}
\begin{tcbraster}[raster before skip=0pt,raster row skip=3pt,raster columns=1]
\begin{tcolorbox}[enhanced,breakable,frame hidden,interior hidden,colback=white,
    borderline west={0.75mm}{0.25mm}{color_example_bad},
    top=0mm,bottom=0mm,right=0mm,left=2.5mm]
    #2
\end{tcolorbox}
\begin{tcolorbox}[enhanced,frame hidden,interior hidden,colback=white,
    borderline west={0.75mm}{0.25mm}{color_guideline},
    top=0mm,bottom=0mm,right=0mm,left=2.5mm]
    #3
\end{tcolorbox}%
\end{tcbraster}%
\fi%
}

% text example (single column)
\newcommand{\badexample}[2][]{%
\ifx\relax#1\relax
\begin{tcolorbox}[enhanced,breakable,frame hidden,interior hidden,colback=white,
    borderline west={0.75mm}{0.25mm}{color_example_bad},
    top=0mm,bottom=0mm,right=0mm,left=2.5mm]
    #2
\end{tcolorbox}%
\else
{\hfill \scriptsize{#1}}
\begin{tcolorbox}[before skip=0pt,
    enhanced,breakable,frame hidden,interior hidden,colback=white,
    borderline west={0.75mm}{0.25mm}{color_example_bad},
    top=0mm,bottom=0mm,right=0mm,left=2.5mm]
    #2
\end{tcolorbox}%
\fi%
}
\newcommand{\goodexample}[2][]{%
\ifx\relax#1\relax
\begin{tcolorbox}[enhanced,breakable,frame hidden,interior hidden,colback=white,
    borderline west={0.75mm}{0.25mm}{color_guideline},
    top=0mm,bottom=0mm,right=0mm,left=2.5mm]
    #2
\end{tcolorbox}%
\else
{\hfill \scriptsize{#1}}
\begin{tcolorbox}[before skip=0pt,
    enhanced,breakable,frame hidden,interior hidden,colback=white,
    borderline west={0.75mm}{0.25mm}{color_guideline},
    top=0mm,bottom=0mm,right=0mm,left=2.5mm]
    #2
\end{tcolorbox}%
\fi%
}

% highlight background of crucial parts
\sethlcolor{color_highlight}
\newcommand{\highlightpart}[1]{\hl{#1}}
\newcommand{\highlightempty}{\hl{ }}
\newcommand{\highlightpartmath}[1]{\text{\highlightpart{$#1$}}}  % soul can run into problems in math env

% row in table of references for guidelines
\newcommand{\guidelineref}[2]{\ref{#1} & \fullcite{#2} \\}


% command 'widecheck' for inner-approximations
\makeatletter
\DeclareRobustCommand\widecheckinternal[1]{{\mathpalette\@widecheckinternal{#1}}}
\def\@widecheckinternal#1#2{%
	\setbox\z@\hbox{\m@th$#1#2$}%
	\setbox\tw@\hbox{\m@th$#1%
		\widehat{\vrule\@width\z@\@height\ht\z@
			\vrule\@height\z@\@width\wd\z@}$}%
	\dp\tw@-2\ht\z@
	%	\dp\tw@-\ht\z@
	\@tempdima\ht\z@ \advance\@tempdima2\ht\tw@ \divide\@tempdima\thr@@
	%	\setbox\tw@\hbox{\raise\@tempdima\hbox{\scalebox{1}[-1]{\lower\@tempdima\box\tw@}}}%
	\setbox\tw@\hbox{\raise1.05\@tempdima\hbox{\scalebox{1}[-1]{\lower\@tempdima\box\tw@}}}%
	{\ooalign{\box\tw@ \cr \box\z@}}}
\makeatother
\newcommand{\widecheck}[1]{\,\widecheckinternal{\kern -2pt #1}}

% indication of sections
\newcommand{\location}[1]{\begin{footnotesize} (\textsc{#1}) \end{footnotesize}}